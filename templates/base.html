{% load static %}
<!DOCTYPE html>
<html lang="es" class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{% block title %}Wolves - Clan de Gaming{% endblock %}</title>
    <meta name="author" content="Wolves">
    <meta name="description" content="{% block meta_description %}Wolves - Clan de Gaming{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}Wolves, Gaming, Clan, Esports, Torneos, Videojuegos{% endblock %}">
    <meta name="robots" content="INDEX,FOLLOW">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:title" content="{% block og_title %}{{ block.super }}{% endblock %}">
    <meta property="og:image" content="{% static 'assets/img/og-image.jpg' %}">
    <meta name="csrf-token" content="{{ csrf_token }}">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'assets/img/favicons/apple-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'assets/img/favicons/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'assets/img/favicons/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'assets/img/favicons/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'assets/img/favicons/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'assets/img/favicons/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'assets/img/favicons/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'assets/img/favicons/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'assets/img/favicons/apple-icon-180x180.png' %}">
    <link rel="icon" type="image/png" sizes="192x192" href="{% static 'assets/img/favicons/android-icon-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'assets/img/favicons/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'assets/img/favicons/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'assets/img/favicons/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'assets/img/favicons/manifest.json' %}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{% static 'assets/img/favicons/ms-icon-144x144.png' %}">
    <meta name="theme-color" content="#ffffff">

    <!--Google Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Goldman:wght@400;700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!--All CSS Files-->
    <!-- Bootstrap -->
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
    <!-- Fontawesome Icon -->
    <link rel="stylesheet" href="{% static 'assets/css/fontawesome.min.css' %}">
    <!-- Magnific Popup -->
    <link rel="stylesheet" href="{% static 'assets/css/magnific-popup.min.css' %}">
    <!-- Swiper Js -->
    <link rel="stylesheet" href="{% static 'assets/css/swiper-bundle.min.css' %}">
    <!-- Theme Custom CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    
    {% block extra_css %}{% endblock %}
</head>

<body>
    <div class="cursor-animation cursor-image"></div>

    <!--[if lte IE 9]>
    <p class="browserupgrade">Estás usando un navegador <strong>obsoleto</strong>. Por favor <a href="https://browsehappy.com/">actualiza tu navegador</a> para mejorar tu experiencia y seguridad.</p>
    <![endif]-->

    <!--==============================
     Preloader
    ==============================-->
    <div class="preloader">
        <button class="th-btn preloaderCls">CANCELAR PRECARGA</button>
        <div class="preloader-inner">
            <span class="loader"></span>
        </div>
    </div>

    <!--==============================
    Product Lightbox
    ==============================-->
    <div id="QuickView" class="white-popup mfp-hide">
        <div class="container bg-black3 rounded-10">
            <!-- Contenido del lightbox de producto -->
            <button title="Cerrar (Esc)" type="button" class="mfp-close text-white">×</button>
        </div>
    </div>

    <!--==============================
    Sidemenu Cart
    ==============================-->
    <div class="sidemenu-wrapper sidemenu-cart">
        <div class="sidemenu-content">
            <button class="closeButton sideMenuCls"><i class="far fa-times"></i></button>
            <div class="widget woocommerce widget_shopping_cart">
                <h3 class="widget_title">Carrito de compras</h3>
                <!-- Contenido del carrito -->
            </div>
        </div>
    </div>

    <!--==============================
    Sidemenu Info
    ==============================-->
    <div class="sidemenu-wrapper sidemenu-info d-none d-lg-block">
        <div class="sidemenu-content">
            <button class="closeButton sideMenuCls"><i class="far fa-times"></i></button>
            <div class="widget footer-widget">
                <div class="th-widget-about">
                    <div class="about-logo">
                        <a href="{% url 'index' %}">
                            <span data-mask-src="{% static 'assets/img/logo.svg' %}" class="logo-mask"></span>
                            <img src="{% static 'assets/img/logo.svg' %}" alt="Wolves">
                        </a>
                    </div>
                    <p class="about-text">Somos una comunidad de jugadores apasionados, dedicados a competir y divertirnos en diferentes plataformas y juegos.</p>
                    <h3 class="widget_title">Síguenos <span class="text-theme">En:</span></h3>
                    <div class="th-widget-contact">
                        <div class="th-social style-mask">
                            <a class="facebook" href="#" target="_blank" rel="noopener"><i class="fab fa-facebook-f"></i></a>
                            <a class="twitter" href="#" target="_blank" rel="noopener"><img src="{% static 'assets/img/icon/x-twitter-icon.svg' %}" alt="Twitter"></a>
                            <a class="instagram" href="#" target="_blank" rel="noopener">
                                <img src="{% static 'assets/img/icon/instagram-icon.svg' %}" alt="Instagram">
                            </a>
                            <a class="discord" href="#" target="_blank" rel="noopener">
                                <i class="fab fa-discord"></i>
                            </a>
                            <a class="twitch" href="#" target="_blank" rel="noopener">
                                <i class="fab fa-twitch"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--==============================
    Search Popup
    ==============================-->
    <div class="popup-search-box d-none d-lg-block">
        <button class="searchClose"><i class="fal fa-times"></i></button>
        <form action="#" method="get">
            <input type="text" name="q" placeholder="¿Qué estás buscando?">
            <button type="submit"><i class="fal fa-search"></i></button>
        </form>
    </div>

    <!--==============================
    Mobile Menu
    ==============================-->
    <div class="th-menu-wrapper">
        <div class="th-menu-area text-center">
            <button class="th-menu-toggle"><i class="fal fa-times"></i></button>
            <div class="mobile-logo">
                <a href="{% url 'index' %}"><span data-mask-src="{% static 'assets/img/logo.svg' %}" class="logo-mask"></span><img src="{% static 'assets/img/logo.svg' %}" alt="Wolves"></a>
            </div>
            <div class="th-mobile-menu">
                <ul>
                    <li class="active">
                        <a href="{% url 'index' %}">INICIO</a>
                    </li>
                    <li>
                        <a href="#">NOSOTROS</a>
                    </li>
                    <li class="menu-item-has-children">
                        <a href="#">TORNEOS</a>
                        <ul class="sub-menu">
                            <li><a href="#">Torneos</a></li>
                            <li><a href="#">Calendario</a></li>
                        </ul>
                    </li>
                    <li class="menu-item-has-children">
                        <a href="#">EQUIPO</a>
                        <ul class="sub-menu">
                            <li><a href="#">Jugadores</a></li>
                            <li><a href="#">Staff</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="{% url 'puntos_generales' %}">TABLA DE PUNTOS</a>
                    </li>
                    <li>
                        <a href="#">CONTACTO</a>
                    </li>
                    
                    {% if not user.is_authenticated %}
                    <li class="menu-item-has-children auth-options">
                        <a href="#"><i class="fas fa-user-circle me-2"></i>CUENTA</a>
                        <ul class="sub-menu">
                            <li><a href="{% url 'login_usuario' %}"><i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesión</a></li>
                            <li><a href="{% url 'registrar_usuario' %}"><i class="fas fa-user-plus me-2"></i>Registrarse</a></li>
                        </ul>
                    </li>
                    {% else %}
                    <li class="menu-item-has-children auth-options">
                        <a href="#"><i class="fas fa-user-circle me-2"></i>MI CUENTA</a>
                        <ul class="sub-menu">
                            <li><a href="{% url 'perfil_usuario' %}"><i class="fas fa-user-cog me-2"></i>Perfil</a></li>
                            <li><a href="#"><i class="fas fa-trophy me-2"></i>Mis Torneos</a></li>
                            <li><a href="{% url 'logout_usuario' %}"><i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión</a></li>
                        </ul>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>

    <!--==============================
    Header Area
    ==============================-->
    <header class="th-header header-layout1">
        <div class="header-top">
            <div class="container">
                <div class="row justify-content-center justify-content-md-between align-items-center">
                    <div class="col-auto">
                        <div class="header-links">
                            <ul>
                                <li><i class="far fa-envelope"></i><a href="mailto:info@wolves.com">info@wolves.com</a></li>
                                <li><i class="far fa-phone"></i><a href="tel:+51987654321">+51 987 654 321</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-auto d-none d-md-block">
                        <div class="header-links">
                            <ul>
                               
                                <li>
                                    {% if not user.is_authenticated %}
                                    <a href="{% url 'login_usuario' %}"><i class="far fa-user"></i>Iniciar Sesión</a>
                                    <a href="{% url 'registrar_usuario' %}"><i class="far fa-user"></i>Registrarse</a>
                                    {% else %}
                                    <div class="dropdown-link">
                                        <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="far fa-user"></i>{{ user.username }}</a>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="{% url 'perfil_usuario' %}">Mi Perfil</a></li>
                                            <li><a class="dropdown-item" href="#">Mis Torneos</a></li>
                                            <li><a class="dropdown-item" href="{% url 'logout_usuario' %}">Cerrar Sesión</a></li>
                                        </ul>
                                    </div>
                                    {% endif %}
                                </li>
                                <li>
                                    <div class="dropdown-link">
                                        <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa-solid fa-globe"></i>Español</a>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#">English</a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="sticky-wrapper">
            <div class="menu-area">
                <div class="container">
                    <div class="row align-items-center justify-content-between">
                        <div class="col-auto">
                            <div class="header-logo">
                                <a href="{% url 'index' %}">
                                    <span data-mask-src="{% static 'assets/img/logo.svg' %}" class="logo-mask"></span>
                                    <img src="{% static 'assets/img/logo.svg' %}" alt="Wolves">
                                </a>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="row">
                                <div class="col-auto">
                                    <nav class="main-menu d-none d-lg-inline-block">
                                        <ul>
                                            <li class="active">
                                                <a href="{% url 'index' %}">INICIO</a>
                                            </li>
                                            <li>
                                                <a href="{% url 'about' %}">NOSOTROS</a>
                                            </li>
                                            <li>
                                                <a href = "{% url 'eventos' %}">EVENTOS</a>
                                               
                                                    
                                               
                                            </li>
                                            <li class="menu-item-has-children">
                                                <a href=>EQUIPO</a>
                                                <ul class="sub-menu">
                                                    <li><a href="{% url 'jugadores' %}">Jugadores</a></li>
                                                    <li><a href="{% url 'staff' %}">Staff</a></li>
                                                </ul>
                                            </li>
                                            <li>
                                                <a href="{% url 'puntos_generales' %}">TABLA DE PUNTOS</a>
                                            </li>
                                          
                                           
                                            <li>
                                                <a href="{% url 'contact' %}">CONTACTO</a>
                                            </li>
                                        </ul>
                                    </nav>
                                    <button type="button" class="th-menu-toggle d-block d-lg-none"><i class="far fa-bars"></i></button>
                                </div>
                          
                            </div>
                        </div>
                    </div>
                </div>
                <div class="logo-bg"></div>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <footer class="footer-wrapper footer-layout2" data-bg-src="{% static 'assets/img/bg/footer2-bg.png' %}">
        <div class="container">
            <div class="text-center">
                <div class="footer-top-shape bg-repeat" data-bg-src="{% static 'assets/img/bg/jiji-bg.png' %}">
                </div>
            </div>
        </div>
        <div class="widget-area">
            <div class="container">
                <div class="row justify-content-between">
                    <div class="col-md-6 col-xl-auto">
                        <div class="widget footer-widget">
                            <div class="th-widget-about">
                                <div class="about-logo">
                                    <a href="{% url 'index' %}">
                                        <span data-mask-src= class="logo-mask"></span>
                                        <img src="" alt="Wolves">
                                    </a>
                                </div>
                                <p class="about-text">Somos una comunidad de jugadores apasionados, dedicados a competir y divertirnos en diferentes plataformas y juegos.</p>
                                <h3 class="widget_title">Síguenos <span class="text-theme">En:</span></h3>
                                <div class="th-widget-contact">
                                    <div class="th-social style-mask">
                                        <a class="facebook" href="#" target="_blank" rel="noopener"><i class="fab fa-facebook-f"></i></a>
                                        <a class="twitter" href="#" target="_blank" rel="noopener"><img src="{% static 'assets/img/icon/x-twitter-icon.svg' %}" alt="Twitter"></a>
                                        <a class="instagram" href="#" target="_blank" rel="noopener">
                                            <img src="{% static 'assets/img/icon/instagram-icon.svg' %}" alt="Instagram">
                                        </a>
                                        <a class="discord" href="#" target="_blank" rel="noopener">
                                            <i class="fab fa-discord"></i>
                                        </a>
                                        <a class="twitch" href="#" target="_blank" rel="noopener">
                                            <i class="fab fa-twitch"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-xl-auto">
                        <div class="widget widget_nav_menu footer-widget">
                            <h3 class="widget_title">Enlaces Útiles</h3>
                            <div class="menu-all-pages-container">
                                <ul class="menu">
                                    <li><a href="{% url 'index' %}"><i class="far fa-angle-right"></i>Inicio</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Nosotros</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Torneos</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Jugadores</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Galería</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Contacto</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-xl-auto">
                        <div class="widget widget_nav_menu footer-widget">
                            <h3 class="widget_title">Juegos</h3>
                            <div class="menu-all-pages-container">
                                <ul class="menu">
                                    <li><a href="#"><i class="far fa-angle-right"></i>Counter-Strike 2</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>League of Legends</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Valorant</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Fortnite</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Apex Legends</a></li>
                                    <li><a href="#"><i class="far fa-angle-right"></i>Call of Duty</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-xl-auto">
                        <div class="widget newsletter-widget footer-widget">
                            <h3 class="widget_title">Newsletter</h3>
                            <p class="footer-text">Suscríbete a nuestro boletín para recibir noticias y actualizaciones</p>
                            <form class="newsletter-form" method="post" action="#">
                                {% csrf_token %}
                                <div class="form-group">
                                    <input class="form-control" name="email" type="email" placeholder="Email" required="">
                                    <button type="submit" class="th-btn"><i class="fas fa-paper-plane"></i></button>
                                </div>
                                <div class="btn-wrap">
                                    <a href="#"><img src="{% static 'assets/img/normal/footer-discord-btn.png' %}" alt="Discord"></a>
                                    <a href="#"><img src="{% static 'assets/img/normal/footer-twitch-btn.png' %}" alt="Twitch"></a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright-wrap text-center bg-repeat" data-bg-src="{% static 'assets/img/bg/jiji-bg.png' %}">
            <div class="container">
                <div class="row align-items-center justify-content-center">
                    <div class="col-lg-6">
                        <p class="copyright-text bg-repeat" data-bg-src="{% static 'assets/img/bg/jiji-bg.png' %}">
                            <i class="fal fa-copyright"></i> Copyright {% now "Y" %} <a href="{% url 'index' %}">Wolves.</a> Todos los derechos reservados.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll To Top -->
    <div class="scroll-top">
        <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
            <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" style="transition: stroke-dashoffset 10ms linear 0s; stroke-dasharray: 307.919, 307.919; stroke-dashoffset: 307.919;"></path>
        </svg>
    </div>

    <!-- Jquery -->
    <script src="{% static 'assets/js/vendor/jquery-3.7.1.min.js' %}"></script>
    <!-- Swiper Js -->
    <script src="{% static 'assets/js/swiper-bundle.min.js' %}"></script>
    <!-- Bootstrap -->
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
    <!-- Magnific Popup -->
    <script src="{% static 'assets/js/jquery.magnific-popup.min.js' %}"></script>
    <!-- Counter Up -->
    <script src="{% static 'assets/js/jquery.counterup.min.js' %}"></script>
    <!-- Range Slider -->
    <script src="{% static 'assets/js/jquery-ui.min.js' %}"></script>
    <!-- Isotope Filter -->
    <script src="{% static 'assets/js/imagesloaded.pkgd.min.js' %}"></script>
    <script src="{% static 'assets/js/isotope.pkgd.min.js' %}"></script>
    <!-- gsap -->
    <script src="{% static 'assets/js/gsap.min.js' %}"></script>

    <script src="{% static 'assets/js/waypoints.js' %}"></script>
    <script src="{% static 'assets/js/wow.js' %}"></script>
    <script src="{% static 'assets/js/smooth-scroll.js' %}"></script>

    <!-- Main Js File -->
    <script src="{% static 'assets/js/main.js' %}"></script>
    
    {% block extra_scripts %}{% endblock %}

    <script>
      // Comprehensive fix for registration form navigation
      document.addEventListener('DOMContentLoaded', function() {
        // Add js-enabled class to body
        document.body.classList.add('js-enabled');
        
        // Initialize form steps
        const formSteps = document.querySelectorAll('.form-step');
        const totalSteps = formSteps.length;
        let currentStep = 0;
        
        // Make sure first step is visible initially
        if (formSteps.length > 0) {
          formSteps.forEach(step => {
            step.classList.remove('active');
            step.style.display = 'none';
          });
          formSteps[0].classList.add('active');
          formSteps[0].style.display = 'block';
          
          // Update step indicators
          updateStepIndicators(0);
        }
        
        // Set up event listeners for next/prev buttons
        const nextButtons = document.querySelectorAll('.next-step');
        const prevButtons = document.querySelectorAll('.prev-step');
        
        nextButtons.forEach(button => {
          button.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Validate current step if needed
            if (validateStep(currentStep)) {
              // Hide current step
              formSteps[currentStep].classList.remove('active');
              formSteps[currentStep].style.display = 'none';
              
              // Move to next step
              currentStep = Math.min(currentStep + 1, totalSteps - 1);
              
              // Show new step
              formSteps[currentStep].classList.add('active');
              formSteps[currentStep].style.display = 'block';
              
              // Update step indicators
              updateStepIndicators(currentStep);
              
              // Scroll to top of form
              scrollToForm();
            }
          });
        });
        
        prevButtons.forEach(button => {
          button.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Hide current step
            formSteps[currentStep].classList.remove('active');
            formSteps[currentStep].style.display = 'none';
            
            // Move to previous step
            currentStep = Math.max(currentStep - 1, 0);
            
            // Show new step
            formSteps[currentStep].classList.add('active');
            formSteps[currentStep].style.display = 'block';
            
            // Update step indicators
            updateStepIndicators(currentStep);
            
            // Scroll to top of form
            scrollToForm();
          });
        });
        
        // Function to update step indicators
        function updateStepIndicators(stepIndex) {
          const stepIndicators = document.querySelectorAll('.registration-steps .step');
          if (stepIndicators.length > 0) {
            stepIndicators.forEach((indicator, index) => {
              if (index < stepIndex) {
                indicator.classList.add('completed');
                indicator.classList.remove('active');
              } else if (index === stepIndex) {
                indicator.classList.add('active');
                indicator.classList.remove('completed');
              } else {
                indicator.classList.remove('active', 'completed');
              }
            });
          }
        }
        
        // Basic validation function - can be expanded as needed
        function validateStep(stepIndex) {
          const currentStepElement = formSteps[stepIndex];
          const requiredFields = currentStepElement.querySelectorAll('input[required], select[required], textarea[required]');
          let isValid = true;
          
          requiredFields.forEach(field => {
            if (!field.value.trim()) {
              isValid = false;
              field.classList.add('is-invalid');
              
              // Add error message if not already present
              const formGroup = field.closest('.form-group');
              if (formGroup && !formGroup.querySelector('.invalid-feedback')) {
                const errorMsg = document.createElement('div');
                errorMsg.className = 'invalid-feedback';
                errorMsg.textContent = 'Este campo es obligatorio.';
                formGroup.appendChild(errorMsg);
              }
            } else {
              field.classList.remove('is-invalid');
            }
          });
          
          return isValid;
        }
        
        // Function to scroll to the top of the form
        function scrollToForm() {
          const formElement = document.querySelector('.contact-form');
          if (formElement) {
            formElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }
        
        // Handle game selection to show/hide game-specific fields
        const gameOptions = document.querySelectorAll('.game-option input');
        if (gameOptions.length > 0) {
          gameOptions.forEach(option => {
            // Set initial state
            const gameDetailsId = option.getAttribute('data-details');
            if (gameDetailsId) {
              const gameDetails = document.getElementById(gameDetailsId);
              if (gameDetails) {
                gameDetails.style.display = option.checked ? 'block' : 'none';
              }
            }
            
            // Add change event listener
            option.addEventListener('change', function() {
              const gameDetailsId = this.getAttribute('data-details');
              if (gameDetailsId) {
                const gameDetails = document.getElementById(gameDetailsId);
                if (gameDetails) {
                  gameDetails.style.display = this.checked ? 'block' : 'none';
                }
              }
              
              // Hide other game details
              document.querySelectorAll('.game-details-card').forEach(card => {
                const cardId = card.getAttribute('id');
                if (cardId !== gameDetailsId) {
                  card.style.display = 'none';
                }
              });
            });
          });
        }
      });

      // Handle Audition version selection to show/hide Audition Latino fields
      document.addEventListener('DOMContentLoaded', function() {
        const auditionVersionSelect = document.getElementById('audition-version');
        const auditionLatinoFields = document.getElementById('audition-latino-fields');
        const otherAuditionFields = document.getElementById('other-audition-fields');
        
        if (auditionVersionSelect && auditionLatinoFields && otherAuditionFields) {
          // Set initial state
          const updateAuditionFields = function() {
            if (auditionVersionSelect.value === 'latino') {
              auditionLatinoFields.style.display = 'block';
              otherAuditionFields.style.display = 'none';
              
              // Make Latino-specific fields required
              document.getElementById('nickname').setAttribute('required', '');
              document.getElementById('level').setAttribute('required', '');
              document.getElementById('experience').setAttribute('required', '');
              
              // Add animation
              auditionLatinoFields.classList.add('fade-in');
            } else if (auditionVersionSelect.value) {
              auditionLatinoFields.style.display = 'none';
              otherAuditionFields.style.display = 'block';
              
              // Remove required from Latino-specific fields
              document.getElementById('nickname').removeAttribute('required');
              document.getElementById('level').removeAttribute('required');
              document.getElementById('experience').removeAttribute('required');
              
              // Add animation
              otherAuditionFields.classList.add('fade-in');
            } else {
              auditionLatinoFields.style.display = 'none';
              otherAuditionFields.style.display = 'none';
            }
          };
          
          // Initial check
          updateAuditionFields();
          
          // Add change event listener
          auditionVersionSelect.addEventListener('change', updateAuditionFields);
        }
        
        // Ensure at least one mode is selected for Audition Latino
        const modeCheckboxes = document.querySelectorAll('input[name="modes[]"]');
        if (modeCheckboxes.length > 0) {
          const validateModes = function() {
            const auditionVersion = document.getElementById('audition-version');
            if (auditionVersion && auditionVersion.value === 'latino') {
              // Check if at least one mode is selected
              const isAnyModeSelected = Array.from(modeCheckboxes).some(checkbox => checkbox.checked);
              
              // Add validation UI
              modeCheckboxes.forEach(checkbox => {
                const modeOption = checkbox.closest('.mode-option');
                if (modeOption) {
                  if (!isAnyModeSelected) {
                    modeOption.classList.add('mode-error');
                  } else {
                    modeOption.classList.remove('mode-error');
                  }
                }
              });
              
              return isAnyModeSelected;
            }
            return true;
          };
          
          // Add to validation function
          const originalValidateStep = validateStep;
          validateStep = function(stepIndex) {
            const basicValidation = originalValidateStep(stepIndex);
            
            // Only validate modes on step 2
            if (stepIndex === 1) {
              const modesValidation = validateModes();
              return basicValidation && modesValidation;
            }
            
            return basicValidation;
          };
          
          // Add change listeners to update validation state
          modeCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', validateModes);
          });
        }
      });
    </script>
</body>
</html>